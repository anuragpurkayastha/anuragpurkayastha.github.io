<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Objects and the Assignment Operator - My Tech Blog</title>
<meta name="description" content="A common, yet subtle, bug that I sometimes come across in my programs has to do with objects and the assignment operator.">


  <meta name="author" content="Anurag Purkayastha">
  
  <meta property="article:author" content="Anurag Purkayastha">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="My Tech Blog">
<meta property="og:title" content="Objects and the Assignment Operator">
<meta property="og:url" content="/Objects-and-the-Assignment-Operator/">


  <meta property="og:description" content="A common, yet subtle, bug that I sometimes come across in my programs has to do with objects and the assignment operator.">



  <meta property="og:image" content="/assets/equals_sign.png">





  <meta property="article:published_time" content="2021-10-16T00:00:00+11:00">





  

  


<link rel="canonical" href="/Objects-and-the-Assignment-Operator/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Anurag Purkayastha",
      "url": "/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="My Tech Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          My Tech Blog
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/wall-e-robot.jpg" alt="Anurag Purkayastha" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Anurag Purkayastha</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>A curious tech enthusiast</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Australia</span>
        </li>
      

      
        
          
        
          
        
          
        
          
        
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Objects and the Assignment Operator">
    <meta itemprop="description" content="A common, yet subtle, bug that I sometimes come across in my programs has to do with objects and the assignment operator.">
    <meta itemprop="datePublished" content="2021-10-16T00:00:00+11:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Objects and the Assignment Operator
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-10-16T00:00:00+11:00">October 16, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>A common, yet subtle, bug that I sometimes come across in my programs has to do with objects and the assignment operator.</p>

<p>To give an example, let’s say we have the following code</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Car car1 = new Car('Subaru', 100000); // Car constructor Car(String model, int km_travelled)
Car a;
a = car1;
</code></pre></div></div>

<p>Naively, you’d think that <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">car1</code> are independent <code class="language-plaintext highlighter-rouge">Car</code> objects. Now let’s say we want to add some more kilometres to Car <code class="language-plaintext highlighter-rouge">a</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a.increaseKm(1000);
</code></pre></div></div>

<p>What we’d expect is that <code class="language-plaintext highlighter-rouge">a</code> would now have a new kilometres value of <code class="language-plaintext highlighter-rouge">101000</code> km. But if we check the <code class="language-plaintext highlighter-rouge">km_travelled</code> field of each we get something different.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>System.out.println("Km Travelled 'a': " + a.getKmTravelled()); // "Km Travelled 'a': 101000");
System.out.println("Km Travelled 'car1': " + b.getKmTravelled()); // "Km Travelled 'car1': 101000");
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">km_travelled</code> field of Car <code class="language-plaintext highlighter-rouge">car1</code> has also been increased! But we declared what we thought were “independent” variables <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">car1</code> to hold different <code class="language-plaintext highlighter-rouge">Car</code> objects. The answer to this is that <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">car1</code> are referring to the <strong>same</strong> object.</p>

<p>This is a subtle bug that can be difficult to find if the concept of <em>objects</em> aren’t fully understood.</p>

<p>This post aims to clear up this misconception.</p>

<h2 id="the-assignment-operator">The Assignment Operator</h2>

<h3 id="variables">Variables</h3>

<p>In any strongly typed language such as Java or C++, when a variable of a particular type is declared, space in memory is set aside to hold a thing of that type.</p>

<p>For example, the declarations</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int x;
double y;
</code></pre></div></div>

<p>will reserve 4 bytes for <code class="language-plaintext highlighter-rouge">x</code> and 8 bytes for <code class="language-plaintext highlighter-rouge">y</code>. We can think of <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code> as being <em>boxes</em> that hold a thing of the reserved size.</p>

<p>When we later <em>assign</em> values to each variable, the bit representation of those values are <strong>copied</strong> into the memory locations of <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code>. That is, the <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code> “boxes” hold the binary representation of the values assigned to each
variable.</p>

<p>However, this is only true for <strong>primitive</strong> values such as Strings, ints and doubles. Things work a little differently for <em>objects</em>.</p>

<h2 id="objects">Objects</h2>

<p>Objects are often implemented in programs to represent <strong>user-defined types</strong>. For example, a <code class="language-plaintext highlighter-rouge">Car</code> object mentioned earlier. In our example, a <code class="language-plaintext highlighter-rouge">Car</code> object can have custom fields and methods related to cars.</p>

<p>When we create a <code class="language-plaintext highlighter-rouge">Car</code> object using the <code class="language-plaintext highlighter-rouge">new</code> command, space is reserved in memory to hold the object. For example,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Car car1 = new Car('Subaru', 20000);
</code></pre></div></div>

<p>However, the variable <code class="language-plaintext highlighter-rouge">car1</code> doesn’t hold the <em>object</em> itself, instead it contains a <strong>reference to the object</strong>. In other words, it holds the <em>address</em> of the <code class="language-plaintext highlighter-rouge">Car</code> object.</p>

<p>So when we assign <code class="language-plaintext highlighter-rouge">car1</code> to another variable (e.g <code class="language-plaintext highlighter-rouge">Car b = car1</code>), we are copying the object’s address to <code class="language-plaintext highlighter-rouge">b</code>. This means that <strong>both</strong> variables <code class="language-plaintext highlighter-rouge">car1</code> and <code class="language-plaintext highlighter-rouge">b</code> refer to the <strong>same</strong> object. So when a method is applied to one of the variables that modify the object’s state, the change is reflected in the other variable because both variables refer to the same object.</p>

<p>This is why assigning an object to a newly declared variable does not make it a new, independent object. If you want independent objects, you need to use the <code class="language-plaintext highlighter-rouge">new</code> operator to create a new object.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Primitive types that are assigned to variables result in the variables holding copies of the value (ie. the actual values themselves). An object that is assigned to a variable has its <strong>address</strong> copied to the variable. This means assigning the object to different variables results in all of those variables referring to the same object. So when one variable changes
the state of the object, it is reflected in the other variables.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-10-16T00:00:00+11:00">October 16, 2021</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/Designing-An-App-Part-1/" class="pagination--pager" title="Designing An App - Part 1
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/monopoly.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/Designing-An-App-Part-1/" rel="permalink">Designing An App - Part 1
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-10-11T00:00:00+11:00">October 11, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Recently I had to complete a week long coding test for a job application I
submitted. Fortunately, the company found my submission of acceptable quality
and ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/computer.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/welcome-to-my-blog/" rel="permalink">Welcome to my tech blog!
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-10-08T00:00:00+11:00">October 8, 2021</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">This is my blog which will be about a whole heap of tech stuff! From linux to programming to web development to networking!

I will be adding posts to this b...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Anurag Purkayastha. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
